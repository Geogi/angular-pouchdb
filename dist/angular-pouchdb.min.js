!function(n,t){"use strict";t.module("pouchdb",[]).constant("POUCHDB_DEFAULT_METHODS",["destroy","put","post","get","remove","bulkDocs","allDocs","sync","putAttachment","getAttachment","removeAttachment","query","viewCleanup","info","compact","revsDiff"]).provider("pouchDB",["POUCHDB_DEFAULT_METHODS",function(n){this.methods=n,this.$get=["$q","$window","$rootScope",function(n,e,r){function o(t){return function(){function e(n,t){return r.$apply(function(){return n?o.reject(n):o.resolve(t)})}var o=n.defer(),c=[];return null!==arguments&&(c=Array.prototype.slice.call(arguments)),c.push(e),t.apply(this,c),o.promise}}var c=this.methods;return function(n,u){var i=new e.PouchDB(n,u),a={};return c.forEach(function(n){a[n]=o(i[n].bind(i))}),a.changes=function(n){var e=t.copy(n);return n.hasOwnProperty("onChange")&&(e.onChange=function(t){return r.$apply(function(){return n.onChange(t)})}),i.changes(e)},a.replicate={to:i.replicate.to.bind(i),from:i.replicate.from.bind(i)},a}}]}])}(window,window.angular);